(this.webpackJsonpcugmap=this.webpackJsonpcugmap||[]).push([[0],{46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},56:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),i=n.n(a),c=n(19),o=n.n(c),r=n(2),l=n(4),d=n.n(l),u=n(9),j=n(12),b=(n(46),n.p+"static/media/new.72b9073d.jpg"),m=n.p+"static/media/old.9da2bba9.jpg";var p=function(e){var t=e.openTools,n=e.isPositionMode,c=e.myMarkerPosition,o=e.setMyMarkerPosition,l=(e.setOpenTools,e.userPosition),p=e.studentId,h=(e.studentName,e.signature),v=e.setSignature,g=e.setMyMapObj,O=e.myMapObj,f=e.nearbyUserList,x="\u8001\u6821\u533a\u81f3\u65b0\u6821\u533a:\u9a7e\u8f66\ud83d\ude97",w="\u65b0\u6821\u533a\u81f3\u8001\u6821\u533a:\u9a7e\u8f66\ud83d\ude97",N="\u8001\u6821\u533a\u81f3\u65b0\u6821\u533a:\u516c\u4ea4\ud83d\ude8c",k="\u65b0\u6821\u533a\u81f3\u8001\u6821\u533a:\u516c\u4ea4\ud83d\ude8c",y=Object(a.useState)(!1),C=Object(r.a)(y,2),S=C[0],M=C[1],P=Object(a.useState)(0),T=Object(r.a)(P,2),E=T[0],L=T[1],A=Object(a.useState)(x),I=Object(r.a)(A,2),_=I[0],z=I[1],F=Object(a.useState)([]),q=Object(r.a)(F,2),$=q[0],D=q[1],G=Object(a.useState)([]),Z=Object(r.a)(G,2),U=Z[0],R=Z[1],W=Object(a.useState)(!1),B=Object(r.a)(W,2),H=B[0],V=B[1],J=Object(a.useState)(null),K=Object(r.a)(J,2),Q=K[0],X=K[1],Y=Object(a.useState)(!1),ee=Object(r.a)(Y,2),te=ee[0],ne=ee[1],se=Object(a.useState)(""),ae=Object(r.a)(se,2),ie=ae[0],ce=ae[1],oe=Object(a.useState)(!1),re=Object(r.a)(oe,2),le=re[0],de=re[1],ue=Object(a.useState)([]),je=Object(r.a)(ue,2),be=je[0],me=je[1],pe=Object(a.useState)(""),he=Object(r.a)(pe,2),ve=he[0],ge=he[1],Oe=Object(a.useState)(!1),fe=Object(r.a)(Oe,2),xe=fe[0],we=fe[1],Ne=Object(a.useState)(""),ke=Object(r.a)(Ne,2),ye=ke[0],Ce=ke[1],Se=Object(a.useState)(""),Me=Object(r.a)(Se,2),Pe=Me[0],Te=Me[1],Ee=null,Le=null,Ae=null,Ie=null,_e=null,ze=null,Fe=[114.61617672935125,30.45759461941093],qe=[114.39835417717694,30.520580596379155],$e=[114.40520669549704,30.519101428977407],De=[114.3994557698071,30.528924839045622];function Ge(){var e=window.AMap;Ee=new e.Map("container",{zoom:14,center:[114.61617672935125,30.45759461941093],resizeEnable:!0,viewMode:"3D",pitch:0,lang:"zh_cn"}),console.log("click"),Ee.on("click",(function(e){e.target;var t=e.lnglat;console.log("lnglat=",t);e.pixel,e.type;o([t.lng,t.lat])})),function(){var e=window.AMap;(Ae=new e.Marker({position:Fe,title:"\u65b0\u6821\u533a",map:Ee})).setLabel({offset:new e.Pixel(-13,-24),content:"\u65b0\u6821\u533a"}),(Ie=new e.Marker({position:qe,map:Ee,title:"\u897f\u6821\u533a"})).setLabel({offset:new e.Pixel(-13,-24),content:"\u897f\u6821\u533a"}),(_e=new e.Marker({position:$e,map:Ee,title:"\u4e1c\u6821\u533a"})).setLabel({offset:new e.Pixel(-13,-24),content:"\u4e1c\u6821\u533a"}),(ze=new e.Marker({position:De,map:Ee,title:"\u5317\u6821\u533a"})).setLabel({offset:new e.Pixel(-13,-24),content:"\u5317\u6821\u533a"}),Ee.add([Ae,Ie,ze,_e])}(),function(){var e=window.AMap;Ee.plugin(["AMap.MouseTool"],(function(){Le=new e.MouseTool(Ee)})),e.plugin(["AMap.ToolBar","AMap.Scale","AMap.OverView","AMap.MapType","AMap.Geolocation","AMap.Driving"],(function(){Ee.addControl(new e.ToolBar),Ee.addControl(new e.Scale),Ee.addControl(new e.OverView({isOpen:!0})),Ee.addControl(new e.MapType),Ee.addControl(new e.Geolocation)}))}(),function(){console.log("initEvent");var e=window.AMap,t=d("\u672a\u6765\u57ce\u6821\u533a",b,"\u6e56\u5317\u7701\u6b66\u6c49\u5e02\u4e1c\u6e56\u65b0\u6280\u672f\u5f00\u53d1\u533a\u9526\u7a0b\u885768\u53f7"),n=d("\u5357\u671b\u5c71\u6821\u533a",m,"\u6e56\u5317\u7701\u6b66\u6c49\u5e02\u9c81\u78e8\u8def388\u53f7"),s=document.querySelector(".new"),a=document.querySelector(".west"),i=document.querySelector(".east"),c=document.querySelector(".north"),o=document.querySelector(".distance"),r=document.querySelector(".area"),l=document.querySelector(".tool");function d(t,n,s){var a="\u4e2d\u56fd\u5730\u8d28\u5927\u5b66".concat(t),i=[];return i.push("<img style=width:120px;height:80px"+" src='".concat(n,"' >\u5730\u5740\uff1a").concat(s)),i.push("\u6821\u53cb\u5de5\u4f5c\u670d\u52a1\u7535\u8bdd\uff1a027-67883684"),i.push("<a href='http://www.cug.edu.cn/'>\u5b98\u65b9\u7f51\u7ad9</a>"),new e.InfoWindow({isCustom:!0,content:u(a,i.join("<br/>")),offset:new e.Pixel(16,-45)})}function u(e,t){var n=document.createElement("div");n.className="custom-info input-card content-window-card";var s=document.createElement("div"),a=document.createElement("div"),i=document.createElement("img");s.className="info-top",a.innerHTML=e,i.src="https://webapi.amap.com/images/close2.gif",i.onclick=j,s.appendChild(a),s.appendChild(i),n.appendChild(s);var c=document.createElement("div");c.className="info-middle",c.style.backgroundColor="white",c.innerHTML=t,n.appendChild(c);var o=document.createElement("div");o.className="info-bottom",o.style.position="relative",o.style.top="0px",o.style.margin="0 auto";var r=document.createElement("img");return r.src="https://webapi.amap.com/images/sharp.png",o.appendChild(r),n.appendChild(o),n}function j(){Ee.clearInfoWindow()}e.event.addListener(Ae,"click",(function(){console.log("here"),t.open(Ee,Ae.getPosition()),Ee.setCenter(Fe),Ee.setZoom(18),Ee.setPitch(60)})),e.event.addListener(Ie,"click",(function(){n.open(Ee,Ie.getPosition()),Ee.setCenter(qe),Ee.setZoom(18),Ee.setPitch(60)})),e.event.addListener(_e,"click",(function(){n.open(Ee,_e.getPosition()),Ee.setCenter($e),Ee.setZoom(18),Ee.setPitch(60)})),e.event.addListener(ze,"click",(function(){n.open(Ee,ze.getPosition()),Ee.setCenter(De),Ee.setZoom(18),Ee.setPitch(60)})),s.addEventListener("click",(function(){Ee.setCenter(Fe),Ee.setZoom(18),Ee.setPitch(60);var e=Ee.getCenter();console.log("currentCenter=",e)})),a.addEventListener("click",(function(){Ee.setCenter(qe),Ee.setZoom(18),Ee.setPitch(60);var e=Ee.getCenter();console.log("currentCenter=",e)})),i.addEventListener("click",(function(){Ee.setCenter($e),Ee.setZoom(18),Ee.setPitch(60);var e=Ee.getCenter();console.log("currentCenter=",e)})),c.addEventListener("click",(function(){Ee.setCenter(De),Ee.setZoom(18),Ee.setPitch(60);var e=Ee.getCenter();console.log("currentCenter=",e)})),o.addEventListener("click",(function(){Le.close(!0),Le.rule()})),r.addEventListener("click",(function(){Le.close(!0),Le.measureArea()})),l.addEventListener("click",(function(){Le.close(!0)}))}(),function(){var e=window.AMap;e.plugin("AMap.Geolocation",(function(){var t=new e.Geolocation({enableHighAccuracy:!0,timeout:1e4,buttonOffset:new e.Pixel(10,20),zoomToAccuracy:!0,buttonPosition:"RB"});function n(t){console.log(t.position);var n=t.position.lat,s=t.position.lng,a=window.location.pathname;if("/position"!==a){Ee.setCenter([s,n]);var i=new e.Marker({position:[s,n],title:"\u6211\u7684\u5b9a\u4f4d",map:Ee});i.setLabel({offset:new e.Pixel(-18,-24),content:"\u6211\u7684\u5b9a\u4f4d"}),Ee.add(i)}if(0===l[0]&&0===l[1]&&"/position"===a){o([s,n]),Ee.setCenter([s,n]);var c=new e.Marker({position:[s,n],title:"\u6211\u7684\u5b9a\u4f4d",map:Ee});c.setLabel({offset:new e.Pixel(-18,-24),content:"\u6211\u7684\u5b9a\u4f4d"}),Ee.add(c)}}function s(e){}t.getCurrentPosition(),e.event.addListener(t,"complete",n),e.event.addListener(t,"error",s)}))}(),L(0),g(Ee)}function Ze(e){switch(e.target.innerText){case"\u65b0\u6821\u533a\u81f3\u8001\u6821\u533a:\u9a7e\u8f66\ud83d\ude97":z(w),L(1),R([{keyword:"\u4e2d\u56fd\u5730\u8d28\u5927\u5b66\u672a\u6765\u57ce\u6821\u533a",city:"\u6b66\u6c49"},{keyword:"\u4e2d\u56fd\u5730\u8d28\u5927\u5b66\u897f\u533a(\u897f2\u95e8)",city:"\u6b66\u6c49"}]);break;case"\u8001\u6821\u533a\u81f3\u65b0\u6821\u533a:\u9a7e\u8f66\ud83d\ude97":z(x),L(1),R([{keyword:"\u4e2d\u56fd\u5730\u8d28\u5927\u5b66\u897f\u533a(\u897f2\u95e8)",city:"\u6b66\u6c49"},{keyword:"\u4e2d\u56fd\u5730\u8d28\u5927\u5b66\u672a\u6765\u57ce\u6821\u533a",city:"\u6b66\u6c49"}]);break;case"\u65b0\u6821\u533a\u81f3\u8001\u6821\u533a:\u516c\u4ea4\ud83d\ude8c":z(N),L(1),R([{keyword:"\u4e2d\u56fd\u5730\u8d28\u5927\u5b66\u672a\u6765\u57ce\u6821\u533a",city:"\u6b66\u6c49"},{keyword:"\u4e2d\u56fd\u5730\u8d28\u5927\u5b66\u897f\u533a(\u897f2\u95e8)",city:"\u6b66\u6c49"}]);break;case"\u8001\u6821\u533a\u81f3\u65b0\u6821\u533a:\u516c\u4ea4\ud83d\ude8c":z(k),L(1),R([{keyword:"\u4e2d\u56fd\u5730\u8d28\u5927\u5b66\u897f\u533a(\u897f2\u95e8)",city:"\u6b66\u6c49"},{keyword:"\u4e2d\u56fd\u5730\u8d28\u5927\u5b66\u672a\u6765\u57ce\u6821\u533a",city:"\u6b66\u6c49"}]);break;default:console.error("\u51fa\u9519\u4e86\uff01")}}function Ue(e){V(!0);var t=window.AMap,n=null;if(_==x||_==w){switch(e.target.innerText){case"\u65f6\u95f4\u6700\u77ed\u23f0":n=t.DrivingPolicy.LEAST_TIME,console.log("here");break;case"\u8def\u7a0b\u6700\u77ed\ud83d\udee3\ufe0f":n=t.DrivingPolicy.LEAST_DISTANCE;break;case"\u8d39\u7528\u6700\u5c11\ud83d\udcb0":n=t.DrivingPolicy.LEAST_FEE;break;case"\u7cfb\u7edf\u63a8\u8350\u8def\u7ebf\ud83d\udc4d":n=t.DrivingPolicy.REAL_TRAFFIC;break;default:console.error("\u51fa\u9519\u4e86\uff01")}var s=Object(j.a)(U);Ee=new t.Map("container",{zoom:15,center:[114.61617672935125,30.45759461941093],resizeEnable:!0}),new t.Driving({map:Ee,policy:n}).search(s,(function(e,t){"complete"===e?(console.log("\u7ed8\u5236\u9a7e\u8f66\u8def\u7ebf\u5b8c\u6210"),D(t.routes),console.log(t)):console.error("\u83b7\u53d6\u9a7e\u8f66\u6570\u636e\u5931\u8d25\uff1a"+t),V(!1),L(2)}))}else if(_==k||_==N){var a=Object(j.a)(U);Ee=new t.Map("container",{zoom:14,center:[114.61617672935125,30.45759461941093],resizeEnable:!0}),console.log("transfer"),new t.Driving({map:Ee}).search(a,(function(e,t){"complete"===e?(console.log("\u7ed8\u5236\u51fa\u884c\u8def\u7ebf\u5b8c\u6210"),D(t.routes),console.log(t)):console.error("\u83b7\u53d6\u51fa\u884c\u6570\u636e\u5931\u8d25\uff1a"+t),V(!1),L(2)}))}else console.error("setPolicyError")}function Re(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];console.log("userPosition",l),Q&&O.remove(Q);var t=window.AMap,n=new t.Marker({position:e?l:c,map:O});n.setLabel({offset:new t.Pixel(15,15),content:"<span style='color:red;font-weight:600;text-align:center;'>\u6211\u7684\u4f4d\u7f6e</span>"}),X(n)}function We(){return(We=Object(u.a)(d.a.mark((function e(){var t,n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={receiver_id:ie,message:Pe,sender_id:p},n=i.a.$qs.stringify(t),e.next=4,i.a.$http.post("/message/leave",n);case 4:s=e.sent,console.log(s),Ce(s.data.message),we(!0),setTimeout((function(){Ce(""),we(!1)}),3e3);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){Ge();document.querySelector(".welcome");var e=document.querySelector(".author"),t=["red","green","yellow","cyan","hotpink"],n=0;setInterval((function(){e.style.color=t[n],n++,n%=4}),300)}),[]),Object(a.useEffect)((function(){Q&&O.add(Q)}),[Q]),Object(a.useEffect)((function(){if(f&&f.length>0){var e=window.AMap;Ee=new e.Map("container",{zoom:15,center:l,resizeEnable:!0,viewMode:"3D",pitch:0,lang:"zh_cn"}),console.log("click");var t=new e.Marker({position:l,map:Ee});t.setLabel({offset:new e.Pixel(15,15),content:"<span style='color:red;font-weight:600;text-align:center;'>\u6211\u7684\u4f4d\u7f6e</span>"}),X(t),g(Ee),function(e){function t(e,t,s){var a=e+"",c=[];return c.push(t),new i.InfoWindow({isCustom:!0,content:n(a,c.join("<br/>"),s),offset:new i.Pixel(16,-45)})}function n(e,t,n){var a=document.createElement("div");a.className="custom-info input-card content-window-card";var i=document.createElement("div"),c=document.createElement("div"),o=document.createElement("img");i.className="info-top",c.innerHTML=e+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",o.src="https://webapi.amap.com/images/close2.gif",o.onclick=s,i.appendChild(c),i.appendChild(o),a.appendChild(i);var r=document.createElement("div");r.className="info-middle",r.style.backgroundColor="white",r.innerHTML="<span style='color:red'>\u4e2a\u6027\u7b7e\u540d:</span>"+t;var d=document.createElement("span");d.className="friend-chat",d.innerText="\u5bfc\u822a\u53bb\u627eTa",d.onclick=function(){!function(e){ne(!1);var t=window.AMap;Ee=new t.Map("container",{zoom:15,center:l,resizeEnable:!0});var n=new t.Driving({map:Ee,policy:t.DrivingPolicy.REAL_TRAFFIC}),s=Object(j.a)(l),a=Object(j.a)(e);V(!0),n.search(s,a,(function(e,t){console.log("end"),"complete"===e?(console.log("\u7ed8\u5236\u9a7e\u8f66\u8def\u7ebf\u5b8c\u6210"),console.log("result.routes[0]",t.routes[0]),de(!0),me(t.routes[0]),console.log(t)):console.error("\u83b7\u53d6\u9a7e\u8f66\u6570\u636e\u5931\u8d25\uff1a"+t),V(!1)}))}(n),ge(e)},r.appendChild(d),a.appendChild(r);var u=document.createElement("div");u.className="info-bottom",u.style.position="relative",u.style.top="0px",u.style.margin="0 auto";var b=document.createElement("img");return b.src="https://webapi.amap.com/images/sharp.png",u.appendChild(b),a.appendChild(u),a}function s(){ne(!1),Ee.clearInfoWindow()}var a=[],i=window.AMap,c=!1,o=[0,0];e.map((function(e){var n=e.longitude,s=e.latitude,r=new i.Marker({position:[n,s],map:Ee});r.setLabel({offset:new i.Pixel(15,15),content:"<span style='color:red;font-weight:600;text-align:center;'>".concat(e.username,"\u7684\u4f4d\u7f6e</span>")}),i.event.addListener(r,"click",(function(){var a;console.log("here"),t(e.username,e.signature,[n,s]).open(Ee,r.getPosition()),Ee.setCenter([n,s]),Ee.setZoom(18),Ee.setPitch(60),a=e.student_id,ne(!0),ce(a)})),a.push(r),e.setFocus&&(c=!0,o=[n,s],e.setFocus=!1)})),Ee.add(a),c?(Ee.setCenter(o),Ee.setZoom(18),Ee.setPitch(60)):Ee.setFitView()}(f)}}),[f,l]),Object(a.useEffect)((function(){n&&0!=l[0]?(O.setCenter(l),Re(!0)):0!=l[0]&&0!=l[1]&&O.setCenter(l)}),[n,l]),Object(s.jsxs)("div",{className:"map-container",onClick:function(){n&&Re()},children:[te&&Object(s.jsx)("div",{className:"message-box",children:xe?Object(s.jsx)("div",{className:"message-box-title",children:ye}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"message-box-title",children:"\u4f60\u60f3\u5bf9Ta\u8bf4\u4ec0\u4e48\uff1f(\u6700\u591a200\u5b57)"}),Object(s.jsx)("input",{type:"text",className:"message-box-intput",placeholder:"\u6821\u53cb\u7adf\u5728\u6211\u8eab\u8fb9",onChange:function(e){Te(e.target.value)}}),Object(s.jsx)("button",{className:"message-box-btn",onClick:function(){return We.apply(this,arguments)},children:"\u63d0 \u4ea4"})]})}),le&&Object(s.jsxs)("div",{className:"drive-friend-panel",children:[Object(s.jsx)("div",{className:"drive-friend-close",onClick:function(){location.reload()},children:"\u274c"}),Object(s.jsxs)("div",{className:"drive-friend-panel-title",children:["\u6b63\u5728\u53bb\u627e",ve,",\u8dddTa\u7ea6",be.distance/1e3,"\u5343\u7c73"]}),be.steps&&be.steps.map((function(e,t){return Object(s.jsxs)("div",{className:"drive-friend-instruction",children:[t,":",e.instruction]},e.instruction)}))]}),H&&Object(s.jsx)("div",{className:"loading",children:"\u8def\u5f84\u8ba1\u7b97\u4e2d..."}),t&&Object(s.jsxs)("div",{className:"box",children:[S&&Object(s.jsxs)("div",{className:"drive-panel",children:[Object(s.jsxs)("div",{className:"panel-title",children:["\u5bfc\u822a\u9762\u677f",Object(s.jsx)("span",{className:"panel-close",onClick:function(){M(!1),Ge()},children:"\u274c"}),E>0&&Object(s.jsx)("span",{className:"panel-prev",onClick:function(){L(E-1)},children:"<"})]}),0===E?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"drive-type",children:"\u8bf7\u9009\u62e9\u51fa\u884c\u65b9\u5411\u53ca\u65b9\u5f0f"}),Object(s.jsxs)("div",{className:"drive-button-list1",children:[Object(s.jsx)("button",{className:"drive-button",onClick:function(e){Ze(e)},children:"\u65b0\u6821\u533a\u81f3\u8001\u6821\u533a:\u9a7e\u8f66\ud83d\ude97"}),Object(s.jsx)("button",{className:"drive-button",onClick:function(e){Ze(e)},children:"\u8001\u6821\u533a\u81f3\u65b0\u6821\u533a:\u9a7e\u8f66\ud83d\ude97"})]}),Object(s.jsxs)("div",{className:"drive-button-list2",children:[Object(s.jsx)("button",{className:"drive-button",onClick:function(e){Ze(e)},disabled:!0,children:"\u65b0\u6821\u533a\u81f3\u8001\u6821\u533a:\u516c\u4ea4\ud83d\ude8c"}),Object(s.jsx)("button",{className:"drive-button",onClick:function(e){Ze(e)},disabled:!0,children:"\u8001\u6821\u533a\u81f3\u65b0\u6821\u533a:\u516c\u4ea4\ud83d\ude8c"})]})]}):1===E?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"drive-type",children:["\u4f60\u9009\u62e9\u7684\u65b9\u5f0f\u662f",_," \b"]}),Object(s.jsx)("div",{className:"drive-type",children:"\u8bf7\u9009\u62e9\u51fa\u884c\u7b56\u7565:\b"}),-1!==_.indexOf("\u9a7e\u8f66")?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"drive-button-list1",children:[Object(s.jsx)("button",{className:"drive-button",onClick:function(e){Ue(e)},children:"\u65f6\u95f4\u6700\u77ed\u23f0"}),Object(s.jsx)("button",{className:"drive-button",onClick:function(e){Ue(e)},children:"\u8def\u7a0b\u6700\u77ed\ud83d\udee3\ufe0f"})]}),Object(s.jsxs)("div",{className:"drive-button-list2",children:[Object(s.jsx)("button",{className:"drive-button",onClick:function(e){Ue(e)},children:"\u8d39\u7528\u6700\u5c11\ud83d\udcb0"}),Object(s.jsx)("button",{className:"drive-button suggest",onClick:function(e){Ue(e)},children:"\u7cfb\u7edf\u63a8\u8350\u8def\u7ebf\ud83d\udc4d"})]})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"drive-button-list1",children:[Object(s.jsx)("button",{className:"drive-button",onClick:function(e){Ue(e)},children:"\u65f6\u95f4\u6700\u77ed\u23f0"}),Object(s.jsx)("button",{className:"drive-button",onClick:function(e){Ue(e)},children:"\u6362\u4e58\u6b21\u6570\u6700\u5c11"})]}),Object(s.jsxs)("div",{className:"drive-button-list2",children:[Object(s.jsx)("button",{className:"drive-button",onClick:function(e){Ue(e)},children:"\u8d39\u7528\u6700\u5c11\ud83d\udcb0"}),Object(s.jsx)("button",{className:"drive-button",onClick:function(e){Ue(e)},children:"\u4e0d\u5750\u5730\u94c1\ud83d\ude87"})]}),Object(s.jsxs)("div",{className:"drive-button-list3",children:[Object(s.jsx)("button",{className:"drive-button",onClick:function(e){Ue(e)},children:"\u8d70\u8def\u8ddd\u79bb\u6700\u5c11\ud83d\udeb6\u200d\u2640\ufe0f"}),Object(s.jsx)("button",{className:"drive-button suggest",onClick:function(e){Ue(e)},children:"\u7cfb\u7edf\u63a8\u8350\u8def\u7ebf\ud83d\udc4d"})]})]})]}):2===E?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"drive-type",children:[$[0].policy,"\u8def\u7ebf,\u8017\u65f6\u7ea6",Math.floor($[0].time/60),"\u5206\u949f,\u8def\u7ebf\u603b\u957f",$[0].distance,"\u7c73"]}),Object(s.jsx)("div",{className:"instruction-container",children:$[0].steps.map((function(e,t){return Object(s.jsxs)("div",{className:"drive-path",children:[t+1,":",e.instruction]},e.instruction)}))})]}):void 0]}),Object(s.jsxs)("div",{className:"module-box",children:[Object(s.jsx)("button",{className:"new",children:"\u65b0\u6821\u533a"}),Object(s.jsx)("button",{className:"west",children:"\u897f\u6821\u533a"}),Object(s.jsx)("button",{className:"east",children:"\u4e1c\u6821\u533a"}),Object(s.jsx)("button",{className:"north",children:"\u5317\u6821\u533a"})]}),Object(s.jsxs)("div",{className:"tool-box",children:[Object(s.jsx)("button",{className:"distance",children:"\u8ddd\u79bb\u6d4b\u91cf"}),Object(s.jsx)("button",{className:"area",children:"\u9762\u79ef\u6d4b\u91cf"}),Object(s.jsx)("button",{className:"drive",onClick:function(){M(!0)},children:"\u6821\u533a\u5bfc\u822a"}),Object(s.jsx)("button",{className:"tool",children:"\u5173\u95ed\u5de5\u5177"})]}),Object(s.jsx)("div",{className:"info"})]}),n&&Object(s.jsxs)("div",{className:"position-box",children:[Object(s.jsx)("div",{className:"position-mode-title",children:Object(s.jsx)("span",{style:{color:"red",fontSize:23},children:"\u8bf7\u70b9\u51fb\u5730\u56fe\u9009\u62e9\u4f60\u7684\u4f4d\u7f6e"})}),Object(s.jsx)("div",{className:"position-mode-title",children:"\u4f60\u76ee\u524d\u7684\u4f4d\u7f6e\u662f"}),Object(s.jsxs)("div",{className:"position-mode-title",children:["\u7ecf\u5ea6",Object(s.jsx)("span",{style:{color:"red",fontSize:23},children:0===c[0]?l[0]:c[0]})]}),Object(s.jsxs)("div",{className:"position-mode-title",children:["\u7eac\u5ea6",Object(s.jsx)("span",{style:{color:"red",fontSize:23},children:0===c[1]?l[1]:c[1]})]}),Object(s.jsx)("div",{className:"position-mode-title",children:"\u66f4\u6539\u4e2a\u6027\u7b7e\u540d(\u53ef\u4e0d\u586b \u6700\u591a50\u5b57)"}),Object(s.jsxs)("div",{className:"position-mode-title",children:[Object(s.jsx)("label",{htmlFor:"signature",children:"\u4e2a\u6027\u7b7e\u540d:"}),Object(s.jsx)("input",{style:{marginLeft:20,height:20,width:150,fontSize:18},placeholder:"\u5feb\u6765\u66f4\u6539\u4f60\u7684\u4e2a\u6027\u7b7e\u540d\u5427\uff01",type:"text",id:"signature",value:h,onChange:function(e){v(e.target.value)}})]})]}),Object(s.jsx)("div",{id:"container"}),Object(s.jsx)("div",{className:"author-box",children:Object(s.jsx)("div",{className:"author",children:"\u6731\u5b87\u5bb8\xa9\ufe0fCUGMap"})})]})};n(47);var h=function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),l=Object(r.a)(o,2),j=l[0],b=l[1],m=Object(a.useState)(""),p=Object(r.a)(m,2),h=p[0],v=p[1],g=Object(a.useState)(""),O=Object(r.a)(g,2),f=O[0],x=O[1],w=Object(a.useState)(!1),N=Object(r.a)(w,2),k=N[0],y=N[1],C=Object(a.useState)("\u8be5\u5b66\u53f7\u53ef\u4ee5\u4f7f\u7528\ud83d\udc4d"),S=Object(r.a)(C,2),M=S[0],P=S[1],T=Object(a.useState)(!1),E=Object(r.a)(T,2),L=E[0],A=E[1],I=Object(a.useState)(!1),_=Object(r.a)(I,2),z=_[0],F=_[1],q=Object(a.useState)("\u4f60\u7684\u5bc6\u7801\u5f88\u68d2\ud83d\udc4d"),$=Object(r.a)(q,2),D=$[0],G=$[1],Z=Object(a.useState)(!1),U=Object(r.a)(Z,2),R=U[0],W=U[1],B=Object(a.useState)(!1),H=Object(r.a)(B,2),V=H[0],J=H[1],K=Object(a.useState)(""),Q=Object(r.a)(K,2),X=Q[0],Y=Q[1];function ee(){return(ee=Object(u.a)(d.a.mark((function e(){var t,s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={student_id:n,username:j,password:h},s=i.a.$qs.stringify(t),e.next=4,i.a.$http.post("/user/register",s);case 4:a=e.sent,Y(a.data.message),1===a.data.code?(J(!0),Y(a.data.message+"\uff0c\u5373\u5c06\u8df3\u8f6c\u767b\u9646\u9875\u9762"),setTimeout((function(){window.location="/login"}),3e3)):(J(!0),Y(a.data.message+"\uff0c\u8bf7\u91cd\u65b0\u6ce8\u518c"),setTimeout((function(){J(!1)}),3e3));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(u.a)(d.a.mark((function e(){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={student_id:n},e.next=3,i.a.$http.get("/user/check",{params:t});case 3:1===(s=e.sent).data.code?(y(!0),P("\u8be5\u5b66\u53f7\u53ef\u4ee5\u4f7f\u7528\ud83d\udc4d")):(y(!1),P("\u274c"+s.data.message));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.jsxs)("div",{className:"register-container",children:[V&&Object(s.jsx)("div",{className:"register-panel",children:X}),Object(s.jsxs)("div",{className:"register-form-box",children:[Object(s.jsxs)("div",{className:"register-form-input-box",children:[Object(s.jsx)("div",{className:"register-form-text",children:"\u5b66\u751f\u5361\u53f7(\u8d26\u53f7)"}),Object(s.jsx)("input",{type:"number",autoFocus:!0,placeholder:"\u8bf7\u8f93\u5165\u4f60\u7684\u5361\u53f7",className:"register-form-input",onChange:function(e){c(e.target.value)},onBlur:function(e){!function(){te.apply(this,arguments)}(),A(!0)}}),L&&Object(s.jsx)("div",{className:k?"register-id-message-checked":"register-id-message",children:M})]}),Object(s.jsxs)("div",{className:"register-form-input-box",children:[Object(s.jsx)("div",{className:"register-form-text",children:"\u59d3\u540d"}),Object(s.jsx)("input",{type:"text",placeholder:"\u8bf7\u8f93\u5165\u4f60\u7684\u59d3\u540d",className:"register-form-input",onChange:function(e){b(e.target.value)}})]}),Object(s.jsxs)("div",{className:"register-form-input-box",children:[Object(s.jsx)("div",{className:"register-form-text",children:"\u5bc6\u7801"}),Object(s.jsx)("input",{type:"password",placeholder:"\u8bf7\u8f93\u5165\u4f60\u7684\u5bc6\u7801",className:"register-form-input",onChange:function(e){var t;v(e.target.value),(t=e.target.value).length<8||t.length>20?(F(!1),G("\u4f60\u7684\u5bc6\u7801\u957f\u5ea6\u4e0d\u5bf9\u274c")):t===f?(F(!0),G("\u4f60\u7684\u5bc6\u7801\u5f88\u68d2\ud83d\udc4d")):(F(!1),G("\u4e24\u6b21\u5bc6\u7801\u4e0d\u76f8\u540c\u274c"))}})]}),Object(s.jsxs)("div",{className:"register-form-input-box",children:[Object(s.jsx)("div",{className:"register-form-text",children:"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801"}),Object(s.jsx)("input",{type:"password",placeholder:"\u8bf7\u8f93\u5165\u4f60\u7684\u5bc6\u7801",className:"register-form-input",onChange:function(e){var t;x(e.target.value),t=e.target.value,h===t?(F(!0),G("\u4f60\u7684\u5bc6\u7801\u5f88\u68d2\ud83d\udc4d")):(F(!1),G("\u4e24\u6b21\u5bc6\u7801\u4e0d\u76f8\u540c\u274c")),W(!0)}}),R&&Object(s.jsx)("div",{className:z?"register-id-message-checked":"register-id-message",children:D})]}),Object(s.jsx)("div",{className:"register-form-button ".concat(h.length&&n.length?"register-form-button-allow":"register-form-button-not-allow"),onClick:function(){k&&z&&function(){ee.apply(this,arguments)}()},children:k&&z?"\u786e\u8ba4\u6ce8\u518c":"\u8bf7\u5148\u8f93\u5165"})]})]})};n(48);var v=function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),l=Object(r.a)(o,2),j=l[0],b=l[1],m=Object(a.useState)(!1),p=Object(r.a)(m,2),h=p[0],v=p[1],g=Object(a.useState)(""),O=Object(r.a)(g,2),f=O[0],x=O[1];function w(){return(w=Object(u.a)(d.a.mark((function e(){var t,s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={student_id:n,password:j},s=i.a.$qs.stringify(t),e.next=4,i.a.$http.post("/user/login",s);case 4:a=e.sent,v(!0),console.log("res.data",a.data),1===a.data.code?(x(a.data.message+"\uff0c\u5373\u5c06\u8df3\u8f6c\u4e3b\u9875"),setTimeout((function(){window.location="/",localStorage.setItem("token",a.data.token)}),3e3)):(x(a.data.message+"\uff0c\u8bf7\u91cd\u65b0\u767b\u9646"),setTimeout((function(){v(!1)}),3e3));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.jsxs)("div",{className:"login-container",children:[h&&Object(s.jsx)("div",{className:"register-panel",children:f}),Object(s.jsxs)("div",{className:"login-form-box",children:[Object(s.jsxs)("div",{className:"login-form-input-box",children:[Object(s.jsx)("div",{className:"login-form-text",children:"\u5b66\u53f7(\u8d26\u53f7)"}),Object(s.jsx)("input",{type:"number",autoFocus:!0,placeholder:"\u8bf7\u8f93\u5165\u4f60\u7684\u5361\u53f7",className:"login-form-input",onChange:function(e){c(e.target.value)}})]}),Object(s.jsxs)("div",{className:"login-form-input-box",children:[Object(s.jsx)("div",{className:"login-form-text",children:"\u5bc6\u7801"}),Object(s.jsx)("input",{type:"password",placeholder:"\u8bf7\u8f93\u5165\u4f60\u7684\u5bc6\u7801",className:"login-form-input",onChange:function(e){b(e.target.value)}})]}),Object(s.jsx)("div",{className:"login-form-button ".concat(j.length&&n.length?"login-form-button-allow":"login-form-button-not-allow"),onClick:function(){j.length&&n.length&&function(){w.apply(this,arguments)}()},children:j.length&&n.length?"\u767b\u9646":"\u8bf7\u5148\u8f93\u5165\u5b8c\u6210"})]})]})},g=n.p+"static/media/logo.dd8edf28.jpeg";n(49);var O=function(e){var t=e.openTools,n=e.isPositionMode,c=e.setIsPositionMode,o=e.setOpenTools,l=e.myMarkerPosition,b=(e.isGamMode,e.setIsGamMode),m=e.setNearbyUserList,p=e.nearbyUserList,h=e.setUserPosition,v=(e.studentId,e.setStudentId),O=e.studentName,f=e.setStudentName,x=e.signature,w=e.userPosition,N=e.setSignature,k=e.myMapObj,y="/"===window.location.pathname,C=Object(a.useState)(!1),S=Object(r.a)(C,2),M=S[0],P=S[1],T=Object(a.useState)(!1),E=Object(r.a)(T,2),L=E[0],A=E[1],I=Object(a.useState)(!1),_=Object(r.a)(I,2),z=_[0],F=_[1],q=Object(a.useState)(!1),$=Object(r.a)(q,2),D=$[0],G=$[1],Z=Object(a.useState)(""),U=Object(r.a)(Z,2),R=U[0],W=U[1],B=Object(a.useState)(!1),H=Object(r.a)(B,2),V=H[0],J=H[1],K=Object(a.useState)([]),Q=Object(r.a)(K,2),X=Q[0],Y=Q[1];function ee(){return te.apply(this,arguments)}function te(){return(te=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.$http.get("/message/mymessage");case 2:t=e.sent,console.log("message",t),n=t.data.message_list&&t.data.message_list.reverse(),Y(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){i.a.$http.get("/token").then((function(e){if(console.log(e),console.log("isLogin",L),e.data.with_token&&!L){if(A(!0),v(e.data.student_id),f(e.data.student_name),N(e.data.signature),0!==e.data.longitude&&0!==e.data.latitude){var t=e.data.longitude,n=e.data.latitude;h([t,n])}}else if(L){A(!1),v(""),f("");var s=window.location.pathname;("/position"===s||"/message"===s)&&(window.location="/")}else{var a=window.location.pathname,i="/position"===a||"/message"===a;console.log("isRedirect",i),i&&(window.location="/")}}))}function se(){return(se=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("heregetPosition"),e.next=3,i.a.$http.get("/user/position");case 3:t=e.sent,console.log("position-res",t),-2===t.data.code&&(G(!0),W(t.data.message),setTimeout((function(){b(!1),c(!0),window.location="/position"}),2e3)),G(!0),W("\u5df2\u7ecf\u4e3a\u4f60\u5339\u914d\u9644\u8fd1\u7684\u6821\u53cb,\u5feb\u7ed9\u4ed6\u4eec\u7559\u8a00\u5427!"),J(!0),ee(),h([t.data.user_lng,t.data.user_lat]),m(t.data.user_list),setTimeout((function(){G(!1)}),2e3);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){var e=window.location.pathname;"/position"===e?(c(!0),o(!1),m([]),J(!1)):"/gam"===e&&(b(!0),o(!1),function(){se.apply(this,arguments)}(),ee()),ne(),document.body.clientWidth<1e3&&P(!0)}),[]);var ae=function(){localStorage.removeItem("token"),ne()},ie=function(){var e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(l),t=0===l[0]&&0===l[1],console.log("signature",x),e.next=5,i.a.$http.get("/user/update/info",{params:{longitude:t?w[0]:l[0],latitude:t?w[1]:l[1],signature:x}});case 5:n=e.sent,console.log(n),G(!0),setTimeout((function(){G(!1)}),2e3),1===n.data.code?(W(n.data.message+",\u5373\u5c06\u8df3\u8f6c\u793e\u4ea4\u6a21\u5f0f,\u5feb\u8ddf\u9644\u8fd1\u7684\u6821\u53cb\u804a\u5929\u5427\uff01"),setTimeout((function(){window.location="/gam",J(!0),ee()}),2e3)):W(n.data.message+"\uff0c\u8bf7\u91cd\u8bd5");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();window.addEventListener("resize",(function(e){document.body.clientWidth<1e3&&!M&&P(!0),document.body.clientWidth>1e3&&M&&P(!1)}));var ce=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,s,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,p.map((function(e){if(e.student_id===t){var s=e.longitude,a=e.latitude;return k.setCenter([s,a]),k.setZoom(18),k.setPitch(60),void(n=!0)}})),!n){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,i.a.$http.get("/user/posinfo",{params:{position:w.join(";"),student_id:t}});case 6:s=e.sent,console.log(s),s.data.userinfo.setFocus=!0,a=[].concat(Object(j.a)(p),[s.data.userinfo]),m(a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.jsxs)("div",{className:"nav-container",children:[V&&Object(s.jsxs)("div",{className:"nav-chat-message-box",children:[Object(s.jsx)("div",{className:"nav-chat-message-title",children:X?"\u6d88\u606f\u5217\u8868":"\u8fd8\u6ca1\u6709\u6d88\u606f"}),X&&X.map((function(e,t){return Object(s.jsxs)("div",{className:"nav-chat-message-container",children:[Object(s.jsxs)("div",{className:"nav-chat-list-name",onClick:function(){ce(e.SenderId)},children:[Object(s.jsx)("span",{className:"nav-chat-list-username",children:e.SenderName}),"\u7ed9\u4f60\u7559\u8a00:"]}),Object(s.jsx)("div",{className:"nav-chat-list-message",children:e.Message}),Object(s.jsx)("div",{className:"nav-chat-list-time",children:e.SendTime})]},e.SendTime)}))]}),D&&Object(s.jsx)("div",{className:"nav-panel",children:R}),Object(s.jsx)("img",{src:g,className:"nav-logo",onClick:function(){window.open("https://www.cug.edu.cn/","_blank")}}),Object(s.jsx)("div",{className:"nav-main-text",children:"\u5730\u5927\u5730\u56fe"}),L&&""!==O&&Object(s.jsxs)("div",{className:"nav-welcome",children:[Object(s.jsxs)("div",{className:"nav-username",children:[Object(s.jsx)("span",{style:{color:"red",fontSize:20,margin:0},children:"\u6b22\u8fce\u56de\u6765"}),O]}),Object(s.jsx)("div",{className:"nav-user-signature",onClick:function(){""===x&&(window.location="/position")},children:""===x?"\u4f60\u8fd8\u6ca1\u6709\u4e2a\u6027\u7b7e\u540d\u5594\uff0c\u5feb\u53bb\u66f4\u65b0\u4e00\u4e0b\u5427\uff01":x})]}),!y&&Object(s.jsx)(s.Fragment,{children:M?Object(s.jsxs)("div",{className:"nav-right-phone",children:[Object(s.jsxs)("div",{className:"nav-right-phone-barbox",onClick:function(){F(!z)},children:[Object(s.jsx)("div",{className:"nav-right-phone-line"}),Object(s.jsx)("div",{className:"nav-right-phone-line"}),Object(s.jsx)("div",{className:"nav-right-phone-line"})]}),z&&Object(s.jsxs)("div",{className:"nav-right-phone-more-pannel",children:[Object(s.jsx)("div",{className:"nav-right-phone-more-pannel-line",onClick:function(){window.location="/",F(!1)},children:"\u56de\u5230\u5730\u56fe"}),n&&Object(s.jsx)("div",{className:"nav-right-phone-more-pannel-line",onClick:function(){ie(),F(!1)},children:"\u4fdd\u5b58\u6211\u7684\u4fe1\u606f"}),Object(s.jsx)("div",{className:"nav-right-phone-more-pannel-line"})]})]}):Object(s.jsxs)("div",{className:"nav-right-goback",children:[Object(s.jsx)("div",{className:"nav-right-button",onClick:function(){window.location="/"},children:"\u56de\u5230\u5730\u56fe"}),n&&Object(s.jsx)("div",{className:"nav-right-button",onClick:function(){ie()},children:"\u4fdd\u5b58\u6211\u7684\u4fe1\u606f"})]})}),y&&Object(s.jsx)(s.Fragment,{children:M?Object(s.jsxs)("div",{className:"nav-right-phone",children:[Object(s.jsxs)("div",{className:"nav-right-phone-barbox",onClick:function(){F(!z)},children:[Object(s.jsx)("div",{className:"nav-right-phone-line"}),Object(s.jsx)("div",{className:"nav-right-phone-line"}),Object(s.jsx)("div",{className:"nav-right-phone-line"})]}),z&&Object(s.jsxs)("div",{className:"nav-right-phone-more-pannel",children:[Object(s.jsx)("div",{className:"nav-right-phone-more-pannel-line",onClick:function(){F(!1),L?0!==w[0]&&0!==w[0]?(window.location="/gam",b(!0)):(G(!0),W("\u4f60\u9700\u8981\u5148\u8865\u5145\u4f4d\u7f6e\u4fe1\u606f\uff0c\u624d\u80fd\u5f00\u59cb\u793e\u4ea4\u5594\uff01"),setTimeout((function(){window.location="/position"}),2e3)):window.location="/register"},children:L?"\u6211\u7684\u793e\u4ea4":"\u6ce8\u518c"}),Object(s.jsx)("div",{className:"nav-right-phone-more-pannel-line",onClick:function(){F(!1),L?(window.location="/position",c(!0)):window.location="/login"},children:L?"\u4fee\u6539\u6211\u7684\u4fe1\u606f":"\u767b\u9646"}),Object(s.jsxs)("div",{className:"nav-right-phone-more-pannel-line",onClick:function(){F(!1),o(!t)},children:[" ",t?"\u5173\u95ed":"\u6253\u5f00","\u5de5\u5177\u680f"]}),Object(s.jsxs)("div",{className:"nav-right-phone-more-pannel-line",onClick:function(){F(!1),ae()},children:[" ",L?"\u9000\u51fa\u767b\u9646":"\u5c3d\u60c5\u671f\u5f85"]})]})]}):Object(s.jsxs)("div",{className:"nav-right",children:[Object(s.jsx)("div",{className:"nav-right-button",onClick:function(){L?0!==w[0]&&0!==w[0]?(window.location="/gam",b(!0)):window.location="/position":window.location="/register"},children:L?"\u6211\u7684\u793e\u4ea4":"\u6ce8\u518c"}),Object(s.jsx)("div",{className:"nav-right-button",onClick:function(){L?(window.location="/position",c(!0)):window.location="/login"},children:L?"\u4fee\u6539\u4fe1\u606f":"\u767b\u9646"}),Object(s.jsxs)("div",{className:"nav-right-button",onClick:function(){o(!t)},children:[" ",t?"\u5173\u95ed":"\u6253\u5f00","\u5de5\u5177\u680f"]}),L&&Object(s.jsx)("div",{className:"nav-right-button",onClick:function(){ae()},children:" \u9000\u51fa\u767b\u9646"})]})})]})},f=n(33),x=n(34),w=n(39),N=n(38),k=(n(50),function(e){Object(w.a)(n,e);var t=Object(N.a)(n);function n(){return Object(f.a)(this,n),t.apply(this,arguments)}return Object(x.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"footer-container",children:Object(s.jsx)("div",{className:"footer-main-text"})})}}]),n}(a.Component)),y=n(35),C=n(3);var S=function(){var e=Object(a.useState)(!0),t=Object(r.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(!1),o=Object(r.a)(c,2),l=o[0],d=o[1],u=Object(a.useState)(!1),j=Object(r.a)(u,2),b=j[0],m=j[1],g=Object(a.useState)([0,0]),f=Object(r.a)(g,2),x=f[0],w=f[1],N=Object(a.useState)([]),S=Object(r.a)(N,2),M=S[0],P=S[1],T=Object(a.useState)([0,0]),E=Object(r.a)(T,2),L=E[0],A=E[1],I=Object(a.useState)(""),_=Object(r.a)(I,2),z=_[0],F=_[1],q=Object(a.useState)(""),$=Object(r.a)(q,2),D=$[0],G=$[1],Z=Object(a.useState)(""),U=Object(r.a)(Z,2),R=U[0],W=U[1],B=Object(a.useState)(null),H=Object(r.a)(B,2),V=H[0],J=H[1];return Object(s.jsxs)(y.a,{children:[Object(s.jsx)("div",{style:{width:"100%",height:80}}),Object(s.jsx)(O,{openTools:n,setOpenTools:i,isPositionMode:l,isGamMode:b,setIsPositionMode:d,setIsGamMode:m,myMarkerPosition:x,setUserPosition:A,studentId:z,setStudentId:F,studentName:D,setStudentName:G,signature:R,setSignature:W,userPosition:L,setNearbyUserList:P,nearbyUserList:M,myMapObj:V}),Object(s.jsxs)(C.c,{children:[Object(s.jsx)(C.a,{path:"/register",component:h}),Object(s.jsx)(C.a,{path:"/login",component:v}),Object(s.jsx)(C.a,{path:"/",render:function(){return Object(s.jsx)(p,{openTools:n,setOpenTools:i,isPositionMode:l,isGamMode:b,setIsGamMode:m,setIsPositionMode:d,myMarkerPosition:x,setMyMarkerPosition:w,nearbyUserList:M,userPosition:L,studentId:z,studentName:D,setSignature:W,signature:R,myMapObj:V,setMyMapObj:J})}})]}),Object(s.jsx)(k,{})]})},M=(n(56),n(15)),P=n.n(M),T=n(37),E=n.n(T);i.a.$http=P.a,i.a.$qs=E.a,P.a.defaults.baseURL="http://www.cugmap.com:9999",P.a.interceptors.request.use((function(e){return localStorage.getItem("token")&&(e.headers.Authorization="Token "+localStorage.token),e})),P.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",o.a.render(Object(s.jsx)(S,{}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.5cfe8446.chunk.js.map